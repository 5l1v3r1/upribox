{% load widget_tweaks %}
{% load i18n %}

<form class="js-form">
    <!-- <fieldset class="limited"> -->
    <fieldset>
        {% if form_title %}
        <h2>{{ form_title }} (<a href="#" class="js-abort-form{% if not form.errors %} hidden{% endif %}">{% trans "abbrechen" %}</a><a href="#" class="js-edit-form{% if form.errors %} hidden{% endif %}">{% trans "&auml;ndern" %}</a>)
        </h2>
        {% endif %}

        {% for error in form.non_field_errors %}
            <p class="error-message">{{ error|striptags }}</p>
        {% endfor %}

            {% for field in form %}
                <p class="formLabel"> {{ field.label }} </p>
                {{ field|add_error_class:'form-input-error'}}
                {% if field.field.widget.input_type == "password" %}
                <span id="pw{{forloop.counter}}" class="icon i-eye-open showpw" ></span>
                {% endif %}
                {% for error in field.errors %}
                    <p class="error-message">{{ error|striptags }}</p>
                {% endfor %}
            {% endfor %}

            {% csrf_token %}
<!-- <button class="multiple-inputs">Speichern</button> -->
            <br>
            <button type="submit" name="submit" href="{{ href }}" class="multiple-inputs js-form-submit">{% trans "Speichern" %}</button> {% if back %}<a href="{{ back }}"> {% trans "Abbrechen" %} </a>{% endif %}
        </fieldset>
</form>
